{
  "tools": {
    "rpd": {
      "pre_scripts": [
        {
          "path": "scripts/common/pre_scripts/trace.sh",
          "args": "rpd"
        }
      ],
      "cmd": "./rocmProfileData/rpd_tracer/runTracer.sh",
      "env_vars": {
        "LD_LIBRARY_PATH": "./rocmProfileData/rpd_tracer:/opt/rocm/lib"
      },
      "post_scripts": [
        {
          "path": "scripts/common/post_scripts/trace.sh",
          "args": "rpd"
        }
      ]
    },
    "rocprof": {
      "pre_scripts": [],
      "cmd": "bash ../scripts/common/tools/rocprof_wrapper.sh --runtime-trace",
      "env_vars": {},
      "post_scripts": [
        {
          "path": "scripts/common/post_scripts/trace.sh",
          "args": "rocprof"
        }
      ]
    },
    "rocprof_hip_only": {
      "pre_scripts": [],
      "cmd": "bash ../scripts/common/tools/rocprof_wrapper.sh --hip-trace",
      "env_vars": {},
      "post_scripts": [
        {
          "path": "scripts/common/post_scripts/trace.sh",
          "args": "rocprof"
        }
      ]
    },
    "rocprof_sys": {
      "pre_scripts": [],
      "cmd": "bash ../scripts/common/tools/rocprof_wrapper.sh --sys-trace",
      "env_vars": {},
      "post_scripts": [
        {
          "path": "scripts/common/post_scripts/trace.sh",
          "args": "rocprof"
        }
      ]
    },
    "rocprofv3": {
      "pre_scripts": [],
      "cmd": "rocprofv3 --runtime-trace --",
      "env_vars": {},
      "post_scripts": [
        {
          "path": "scripts/common/post_scripts/trace.sh",
          "args": "rocprof"
        }
      ]
    },
    "rocprofv3_compute": {
      "pre_scripts": [],
      "cmd": "bash ../scripts/common/tools/rocprof_wrapper.sh --hip-trace --kernel-trace -i ../scripts/common/tools/counters/compute_bound.txt --output-format pftrace -d ./rocprof_output --",
      "env_vars": {},
      "post_scripts": [
        {
          "path": "scripts/common/post_scripts/trace.sh",
          "args": "rocprof"
        }
      ]
    },
    "rocprofv3_memory": {
      "pre_scripts": [],
      "cmd": "bash ../scripts/common/tools/rocprof_wrapper.sh --hip-trace --kernel-trace --memory-copy-trace --memory-allocation-trace -i ../scripts/common/tools/counters/memory_bound.txt --output-format pftrace -d ./rocprof_output --",
      "env_vars": {},
      "post_scripts": [
        {
          "path": "scripts/common/post_scripts/trace.sh",
          "args": "rocprof"
        }
      ]
    },
    "rocprofv3_communication": {
      "pre_scripts": [],
      "cmd": "bash ../scripts/common/tools/rocprof_wrapper.sh --hip-trace --hsa-trace --kernel-trace --memory-copy-trace --rccl-trace --scratch-memory-trace --output-format pftrace -d ./rocprof_output --",
      "env_vars": {
        "RCCL_DEBUG": "INFO"
      },
      "post_scripts": [
        {
          "path": "scripts/common/post_scripts/trace.sh",
          "args": "rocprof"
        }
      ]
    },
    "rocprofv3_full": {
      "pre_scripts": [],
      "cmd": "bash ../scripts/common/tools/rocprof_wrapper.sh --hip-trace --hsa-trace --kernel-trace --memory-copy-trace --memory-allocation-trace --rccl-trace --scratch-memory-trace --marker-trace --runtime-trace -i ../scripts/common/tools/counters/full_profile.txt --output-format pftrace --stats -d ./rocprof_output --",
      "env_vars": {
        "RCCL_DEBUG": "INFO",
        "HSA_ENABLE_SDMA": "0"
      },
      "post_scripts": [
        {
          "path": "scripts/common/post_scripts/trace.sh",
          "args": "rocprof"
        }
      ]
    },
    "rocprofv3_lightweight": {
      "pre_scripts": [],
      "cmd": "bash ../scripts/common/tools/rocprof_wrapper.sh --hip-trace --kernel-trace --output-format json -d ./rocprof_output --",
      "env_vars": {},
      "post_scripts": [
        {
          "path": "scripts/common/post_scripts/trace.sh",
          "args": "rocprof"
        }
      ]
    },
    "rocprofv3_perfetto": {
      "pre_scripts": [],
      "cmd": "bash ../scripts/common/tools/rocprof_wrapper.sh --hip-trace --kernel-trace --memory-copy-trace --output-format pftrace --perfetto-trace-filename model_trace.pftrace -d ./rocprof_output --",
      "env_vars": {},
      "post_scripts": [
        {
          "path": "scripts/common/post_scripts/trace.sh",
          "args": "rocprof"
        }
      ]
    },
    "rocprofv3_api_overhead": {
      "pre_scripts": [],
      "cmd": "bash ../scripts/common/tools/rocprof_wrapper.sh --hip-trace --hsa-trace --marker-trace --runtime-trace --stats --output-format json -d ./rocprof_output --",
      "env_vars": {},
      "post_scripts": [
        {
          "path": "scripts/common/post_scripts/trace.sh",
          "args": "rocprof"
        }
      ]
    },
    "rocprofv3_pc_sampling": {
      "pre_scripts": [],
      "cmd": "bash ../scripts/common/tools/rocprof_wrapper.sh --hip-trace --kernel-trace --pc-sampling-beta-enabled --pc-sampling-unit time --pc-sampling-method stochastic --pc-sampling-interval 1000 --output-format pftrace -d ./rocprof_output --",
      "env_vars": {},
      "post_scripts": [
        {
          "path": "scripts/common/post_scripts/trace.sh",
          "args": "rocprof"
        }
      ]
    },
    "rocblas_trace": {
      "env_vars": {"ROCBLAS_TRACE": "1"},
      "cmd": "python3 ../scripts/common/tools/get_library_trace.py"
    },
    "hipblaslt_trace": {
      "env_vars": {"HIPBLASLT_TRACE": "1"},
      "cmd": "python3 ../scripts/common/tools/get_library_trace.py"
    },    
    "miopen_trace": {
      "env_vars": {"MIOPEN_TRACE": "1"},
      "cmd": "python3 ../scripts/common/tools/get_library_trace.py"
    },
    "tensile_trace": {
      "env_vars": {"TENSILE_TRACE": "1"},
      "cmd": "python3 ../scripts/common/tools/get_library_trace.py"
    },
    "rccl_trace": {
      "env_vars": {"RCCL_TRACE": "1"},
      "cmd": "python3 ../scripts/common/tools/get_library_trace.py"
    },
    "test_tools_A": {
      "pre_scripts": [
        {
          "path": "scripts/common/test_echo.sh",
          "args": "pre_script A"
        }
      ],
      "cmd": "echo cmd_A && ",
      "env_vars": {},
      "post_scripts": [
        {
          "path": "scripts/common/test_echo.sh",
          "args": "post_script A"
        }
      ]
    },
    "test_tools_B": {
      "pre_scripts": [
        {
          "path": "scripts/common/test_echo.sh",
          "args": "pre_script B"
        }
      ],
      "cmd": "echo cmd_B && ",
      "env_vars": {},
      "post_scripts": [
        {
          "path": "scripts/common/test_echo.sh",
          "args": "post_script B"
        }
      ]
    },
    "gpu_info_power_profiler": {
      "pre_scripts": [
        {
          "path": "scripts/common/pre_scripts/gpu_info_pre.sh"
        },
        {
          "path": "scripts/common/pre_scripts/gpu_info_power_start.sh"
        }
      ],
      "cmd": "",
      "env_vars": {"POWER_DEVICE":"all", "POWER_SAMPLING_RATE":"0.1", "POWER_MODE":"power", "POWER_DUAL_GCD":"false", "POWER_OUTPUT_FILE":"gpu_info_power_profiler_output.csv"},
      "post_scripts": [
        {
          "path": "scripts/common/post_scripts/gpu_info_power_stop.sh"
        },
        {
          "path": "scripts/common/post_scripts/gpu_info_post.sh",
          "args": "gpu_info_power_profiler"
        }
      ]
    },
    "gpu_info_vram_profiler": {
      "pre_scripts": [
        {
          "path": "scripts/common/pre_scripts/gpu_info_pre.sh"
        },
        {
          "path": "scripts/common/pre_scripts/gpu_info_vram_start.sh"
        }
      ],
      "cmd": "",
      "env_vars": {"VRAM_DEVICE":"all", "VRAM_SAMPLING_RATE":"0.1", "VRAM_MODE":"vram", "VRAM_DUAL_GCD":"false", "VRAM_OUTPUT_FILE":"gpu_info_vram_profiler_output.csv"},
      "post_scripts": [
        {
          "path": "scripts/common/post_scripts/gpu_info_vram_stop.sh"
        },
        {
          "path": "scripts/common/post_scripts/gpu_info_post.sh",
          "args": "gpu_info_vram_profiler"
        }
      ]
    },
    "therock_check": {
      "pre_scripts": [
        {
          "path": "scripts/common/tools/detect_therock.sh"
        }
      ],
      "cmd": "",
      "env_vars": {},
      "post_scripts": []
    }
  }
}
